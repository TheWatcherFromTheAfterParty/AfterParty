<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Phase 2 - The Trial of Awareness</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function checkPassword() {
            var password = document.getElementById("password").value;
            if (password === "thirdkey") { 
                document.body.innerHTML = "<h1 class='glitch'>ACCESS GRANTED</h1><p>Decrypting...</p>";
                setTimeout(function() {
                    localStorage.setItem("progress", "phase3");
                    window.location.href = "phase3.html"; 
                }, 3000); // Simulate hacking delay
            } else {
                document.body.innerHTML = "<h1 class='glitch'>PASSWORD ENTERED...</h1><p>Decrypting...</p>";
                setTimeout(function() {
                    document.body.innerHTML = "<h1 class='glitch'>ACCESS DENIED</h1><p>RELOADING...</p>";
                    setTimeout(function() {
                        location.reload();
                    }, 1500); // Reload delay after joke
                }, 3000); // RELOADING delay
            }
        }

        function checkProgress() {
            var progress = localStorage.getItem("progress");
            if (progress === "phase3") {
                window.location.href = "phase3.html";
            }
        }
    </script>
</head>

<body onload="checkProgress(); startTyping();">
    <h1 class="glitch">PHASE 2: THE TRIAL OF AWARENESS</h1>
    <div class="typewriter">
        <p>You have stepped beyond the first door. But the true path remains hidden.</p>
        <p id="hiddenMessage" style="animation-delay: 0s; display: none;">To proceed, you must recover what was lost. The first key lies where one speaks friend to enter.</p>
        <script>
            function startTyping() {
            setTimeout(function() {
                document.getElementById("hiddenMessage").style.display = "block";
            }, 4000); // Match the animation delay
            }
        </script>
    </div>
    <p></p>
    <input type="text" id="password" placeholder="ENTER NEXT KEY">
    <button onclick="checkPassword()">DECRYPT ACCESS</button>
</body>
</html> 